<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="/plantilla/template :: head">


</head>

<body>

    <div id="1" class="alert alert-info" th:if="${msg != null}" th:text="${msg}"></div>

    <div class="d-flex" id="wrapper">
        <!--    <div class="d-flex" id="wrapper"> -->


        <!-- Page Content -->
        <div id="page-content-wrapper">




            <div class="container-fluid mx-auto">


                <!-- CONTENIDO DINAMICO -->
                <div class="row col-10 mx-auto mt-5 shadow p-3 mb-5 bg-white rounded">
                    <div class="row mt-4 mb-4">
                        <img class="col-4 mx-auto" th:src="@{/img/isotipo.png}">
                    </div>
                    <form id="form" th:action="@{/users/password-update-request/}" class="mx-auto" method="post" >
                        <input type="password" required id="password" name="password" placeholder="Ingresa tu nueva clave" class="col">
                        <input type="password" required id="password_confirm" name="password_confirm" placeholder="Confirma tu nueva clave" class="col mt-2">
                        <input id="token" name="token" th:value="${token}" type="hidden">
                        <input id="csrf_token" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <div class="row mx-auto">
                            <a class="col col-md-2 text-center mx-auto mt-3 float-left hudsoft-btn-sm" style="cursor:pointer" onclick="javascript:enviarNewPassword();">Enviar</a>
                        </div>
                    </form>


                </div>
                <script type="text/javascript">
                    function enviarNewPassword() {
                        console.log("er");
                        let password = document.getElementById("password");
                        let password_confirm = document.getElementById("password_confirm");
                        if (password.value == password_confirm.value) {
                            document.getElementById("form").submit();
                        } else {
                            alert("No coinciden las claves intenta nuevamente!");
                        }

                    }
                </script>
                <!-- ./CONTENIDO DINAMICO -->




            </div>

            <footer th:replace="plantilla/template :: footer"></footer>
        </div>
        <!-- /#page-content-wrapper -->

    </div>


    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

</body>

</html>